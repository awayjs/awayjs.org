/* jquery.slidertron.js v1.4.1-dev | (c) @ajlkn | MIT licensed */
!function(e){e.fn.disableSelection_slidertron=function(){return e(this).css("user-select","none").css("-khtml-user-select","none").css("-moz-user-select","none").css("-o-user-select","none").css("-webkit-user-select","none")},e.fn.slidertron=function(t){if(0==this.length)return $(this);if(this.length>1){for(var i=0;i<this.length;i++)$(this[i]).slidertron(t);return $(this)}var n=e.extend({selectorParent:e(this)},t);return e.slidertron(n)},e.slidertron=function(t){function n(t,i,n){var a;try{if(null==t)throw"is undefined";if(a=M.selectorParent&&!n?M.selectorParent.find(t):e(t),0==a.length)throw"does not exist";return M.disableSelection&&a.disableSelection_slidertron(),a}catch(s){1==i&&(alert('Error: Required selector "'+t+'" '+s+"."),F=!1)}return null}function a(){if(0!=M.advanceDelay){if(!z)switch(M.advanceDirection){case"random":var e,t=j.length-1;if(M.seamlessWrap&&"slide"==M.mode&&(t-=3),2>t)break;for(;(e=Math.ceil(Math.random()*t))==R;);m(e);break;case"backward":h();break;case"forward":default:if(M.advanceLoop)f();else{var t=j.length,e=parseInt(R);M.seamlessWrap?(t-=4,e-=1):e+=1,t>e?f():r()}}k=window.setTimeout(a,M.advanceDelay)}}function s(){0!=M.advanceDelay&&(W&&W.addClass(M.advanceNavActiveClass),O&&O.removeClass(M.advanceNavActiveClass),q=!0,k=window.setTimeout(a,M.advanceDelay))}function l(){r()}function r(){0!=M.advanceDelay&&q&&(W&&O&&(W.removeClass(M.advanceNavActiveClass),O.addClass(M.advanceNavActiveClass)),q=!1,window.clearTimeout(k))}function c(e){0!=M.advanceDelay&&(q||(q=!0,W&&O&&(O.removeClass(M.advanceNavActiveClass),W.addClass(M.advanceNavActiveClass)),e?k=window.setTimeout(a,M.advanceDelay):a()))}function o(e){var t;for(t in E)if(E[t].object[0]===e)return t;return!1}function d(e){var t;for(t in E)if(E[t].id==e)return t;return!1}function u(){m(C)}function v(){m(g)}function f(){var e=!1;_?e=parseInt(R)+M.navSize:(g>R?e=parseInt(R)+M.navSize:(M.navWrap||q)&&(e=C),e>g?e=g:0>e&&(e=0)),e!==!1&&m(e)}function h(){var e=!1;_?e=parseInt(R)-M.navSize:(R>C?e=parseInt(R)-M.navSize:M.navWrap&&(e=g),e>g?e=g:0>e&&(e=0)),e!==!1&&m(e)}function p(e){J&&E[e].jumpLink&&(J.removeClass(M.activeJumpLinkClass),E[e].jumpLink.addClass(M.activeJumpLinkClass))}function S(){M.hashJump&&E[R].id&&window.location.replace(R!=C?"#"+E[R].id:"#")}function w(){if(M.disabledNavClass!==!1&&M.navWrap!==!0){for(x in H)H[x]&&H[x].removeClass(M.disabledNavClass).css("cursor","pointer");var e=new Array;R==C&&(e.push(L),e.push(I)),R==g&&(e.push(y),e.push(T));for(x in e)e[x]&&e[x].addClass(M.disabledNavClass).css("cursor","default")}}function m(t){var i;if(z||R===t)return!1;if(J&&J.removeClass(M.activeJumpLinkClass),M.blurOnChange&&e("input, textarea, select").blur(),z=!0,R===!1){if(R=t,A.css("left",-1*E[R].x),z=!1,D&&(D.removeClass("active"),e(D.get(R-C)).addClass("active")),M.activeSlideClass&&E[R].object.addClass(M.activeSlideClass),M.clickToNav&&!E[R].link&&E[R].object.css("cursor","default"),P)if(E[R].captions)for(i in P)P[i].html(E[R].captions[i]);else for(i in P)P[i].html("");w(),p(R),M.onSlideSwitch&&window.setTimeout(function(){M.onSlideSwitch(E[R].object)},500)}else{var n,a,s,l;if(M.activeSlideClass&&E[R].object.removeClass(M.activeSlideClass),M.clickToNav&&E[R].object.css("cursor","pointer"),a=E[R].x,s=E[t].x,n=a-s,l=E[t].realIndex!==!1?E[t].realIndex:t,D&&(D.removeClass("active"),e(D.get(l-C)).addClass("active")),P)if(E[l].captions)for(i in P)P[i].html(E[l].captions[i]);else for(i in P)P[i].html("");switch(p(l),M.mode){case"fadeIn":i=E[R].object.clone(),i.appendTo(N).css("left",0).css("top",0),R=t,A.css("left",-1*E[R].x),E[R].realIndex!==!1&&(R=E[R].realIndex,A.css("left",-1*E[R].x)),M.activeSlideClass&&E[R].object.addClass(M.activeSlideClass),M.clickToNav&&!E[R].link&&E[R].object.css("cursor","default"),w(),S(),M.onSlideSwitch&&M.onSlideSwitch(E[R].object),i.fadeOut(M.speed,function(){z=!1,i.remove()});break;case"fade":A.fadeTo(M.speed,.001,function(){R=t,A.css("left",-1*E[R].x),E[R].realIndex!==!1&&(R=E[R].realIndex,A.css("left",-1*E[R].x)),A.fadeTo(M.speed,1,function(){M.activeSlideClass&&E[R].object.addClass(M.activeSlideClass),M.clickToNav&&!E[R].link&&E[R].object.css("cursor","default"),w(),S(),M.onSlideSwitch&&M.onSlideSwitch(E[R].object),z=!1})});break;case"slide":default:A.animate({left:"+="+n},M.speed,"swing",function(){R=t,E[R].realIndex!==!1&&(R=E[R].realIndex,A.css("left",-1*E[R].x)),M.activeSlideClass&&E[R].object.addClass(M.activeSlideClass),M.clickToNav&&!E[R].link&&E[R].object.css("cursor","default"),w(),S(),M.onSlideSwitch&&M.onSlideSwitch(E[R].object),z=!1})}}}function b(){var t,a,s;for(E=new Array,N=n(M.viewerSelector,!0),A=n(M.reelSelector,!0),j=n(M.slidesSelector,!0),D=n(M.indicatorSelector,!1),J=n(M.jumpLinksSelector,!1,!0),M.autoFit&&(N.height(Math.floor(N.width()/M.autoFitAspectRatio)),j.width(N.width()).height(N.height())),a=new Array,i=1;i<=M.captionLines;i++){if(s=M.captionLineSelector,M.captionLines>1&&(s+=i),t=n(s,!1),null==t){a=null;break}a.push(t)}if(P=a,L=n(M.navFirstSelector),y=n(M.navLastSelector),T=n(M.navNextSelector),I=n(M.navPreviousSelector),W=n(M.navStopAdvanceSelector),O=n(M.navPlayAdvanceSelector),L&&H.push(L),y&&H.push(y),T&&H.push(T),I&&H.push(I),M.autoHideNav&&j.length<2)for(x in H)H[x].remove();if(M.viewerOffset===!1&&M.clickToNav)return alert("Error: clickToNav only works when viewerOffset is in use."),!1;if(D&&D.length!=j.length)return alert("Error: Indicator needs to have as many items as there are slides."),!1;if(M.navWrap||(M.seamlessWrap=!1),0==F)return alert("Error: One or more configuration errors detected. Aborting."),!1;0==M.viewerOffset&&(M.viewerOffset=0),"random"==M.initialSlide?M.initialSlide=Math.ceil(Math.random()*j.length):(1==isNaN(parseInt(M.initialSlide))||M.initialSlide<1||M.initialSlide>j.length)&&(M.initialSlide=1),N.css("position","relative"),N.css("overflow","hidden"),A.css("position","absolute"),A.css("left",0),A.css("top",0),A.hide();var p=0,S=j.length;if(M.seamlessWrap){_=!0;var w=j.eq(0),b=j.eq(Math.min(S-1,1)),k=j.eq(Math.max(S-2,0)),$=j.eq(Math.max(S-1,0)),Q=w,G=$,K=w.clone(),U=b.clone(),V=$.clone(),X=k.clone();K.attr("id",""),U.attr("id",""),V.attr("id",""),X.attr("id",""),X.insertBefore(Q),V.insertBefore(Q),U.insertAfter(G),K.insertAfter(G),j=n(M.slidesSelector,!0),C=2,g=j.length-3}else C=0,g=S-1;return j.each(function(t){var i,n,a,s,r,c=e(this),o=!1,d=new Array;M.clickToNav&&c.css("cursor","pointer").click(function(e){R!=t&&(e.stopPropagation(),q&&l(),m(t))});var i=c.find(M.slideLinkSelector);for(i.length>0&&(o=i.attr("href"),i.remove(),c.css("cursor","pointer").click(function(e){R==t&&(window.location=o)})),n=1;n<=M.captionLines;n++)s=M.slideCaptionSelector,M.captionLines>1&&(s+=n),a=c.find(s),a.length>0&&(d.push(a.html()),a.remove());d.length!=M.captionLines&&(d=!1),r=c.attr("id"),r||(r=null),c.attr("id",""),E[t]={object:c,x:p-M.viewerOffset,realIndex:!1,link:o,captions:d,id:r,jumpLink:!1},c.css("position","absolute"),c.css("left",p),c.css("top",0),p+=c.width()}),_&&(E[C-1].realIndex=g,E[g+1].realIndex=C),D&&D.each(function(){var t=e(this);t.css("cursor","pointer").bind(B,function(e){return e.preventDefault(),z?!1:(q&&l(),void m(t.index()+C))}),"click"!=B&&t.click(function(e){e.preventDefault()})}),J&&J.each(function(){var t,i=e(this),n=i.attr("href").split("#")[1],a=e('[data-slidertron-parent="'+n+'"]');(t=d(n))!==!1?(i.hasClass("primary")&&(E[t].jumpLink=i),i.click(function(e){e.preventDefault(),q&&l(),m(t)}),a.length>0&&a.each(function(){var e;(e=o(this))!==!1&&(E[e].jumpLink=i)})):i.click(function(e){e.preventDefault()})}),L&&(L.bind(B,function(e){return e.preventDefault(),z?!1:(q&&l(),void u())}),"click"!=B&&L.click(function(e){e.preventDefault()})),y&&(y.bind(B,function(e){return e.preventDefault(),z?!1:(q&&l(),void v())}),"click"!=B&&y.click(function(e){e.preventDefault()})),T&&(T.bind(B,function(e){return e.preventDefault(),z?!1:(q&&l(),void f())}),"click"!=B&&T.click(function(e){e.preventDefault()})),I&&(I.bind(B,function(e){return e.preventDefault(),z?!1:(q&&l(),void h())}),"click"!=B&&I.click(function(e){e.preventDefault()})),W&&(W.bind(B,function(e){return e.preventDefault(),z?!1:q?void r():!1}),"click"!=B&&W.click(function(e){e.preventDefault()})),O&&(O.bind(B,function(e){return e.preventDefault(),z?!1:q?!1:void c()}),"click"!=B&&O.click(function(e){e.preventDefault()})),M.arrowsToNav&&e(document).keydown(function(e){switch(e.keyCode){case 37:if(z)return!1;q&&l(),h();break;case 39:if(z)return!1;q&&l(),f()}}),A.fadeIn(M.fadeInSpeed),!0}var k,C,g,j,N,A,D,L,y,T,I,W,O,P,J,M=e.extend({selectorParent:null,viewerSelector:null,reelSelector:null,slidesSelector:null,indicatorSelector:null,jumpLinksSelector:null,navNextSelector:null,navPreviousSelector:null,navFirstSelector:null,navLastSelector:null,navStopAdvanceSelector:null,navPlayAdvanceSelector:null,captionLineSelector:null,slideLinkSelector:null,slideCaptionSelector:null,mode:"slide",speed:"fast",fadeInSpeed:"slow",navWrap:!0,seamlessWrap:!0,advanceLoop:!0,advanceDelay:0,advanceWait:0,advanceNavActiveClass:"active",advanceDirection:"forward",viewerOffset:!1,activeSlideClass:"active",disabledNavClass:"disabled",clickToNav:!1,captionLines:0,autoHideNav:!1,autoFit:!1,autoFitAspectRatio:.5,initialSlide:1,hashJump:!1,hashJumpStopAdvance:!0,activeJumpLinkClass:"active",arrowsToNav:!1,blurOnChange:!1,navSize:1,disableSelection:!0,onSlideSwitch:!1},t),F=!0,z=!1,q=!1,_=!1,E=new Array,R=!1,$=!!("ontouchstart"in window),B=$?"touchend":"click",H=new Array,Q=M.selectorParent?M.selectorParent:M.viewerSelector;Q&&Q.bind("previousSlide",function(){q&&l(),h()}).bind("nextSlide",function(){q&&l(),f()}).bind("firstSlide",function(){q&&l(),u()}).bind("lastSlide",function(){q&&l(),v()}).bind("slidertron_onSwitchSlide",function(){}).bind("slidertron_reFit",function(e,t){var i=0;t||(t=M.autoFitAspectRatio),window.setTimeout(function(){var e=Math.floor(N.width()/t);for(x in E)E[x].object.width(N.width()),E[x].object.height(e),E[x].x=i-M.viewerOffset,E[x].object.css("left",i),i+=E[x].object.width();A.css("left",-1*E[R].x),N.height(e)},100)}).bind("slidertron_stopAdvance",function(){q&&r()}),e().ready(function(){var e,t=!0;if(M.hashJump){var i=window.location.hash.split("#")[1];i&&(window.location.hash="")}b()&&(M.hashJump&&i&&(e=d(i))!==!1?(setTimeout(function(){window.scrollTo(0,0)},0),m(e),e!=C&&(window.location.hash="#"+i),M.hashJumpStopAdvance&&(t=!1)):m(M.seamlessWrap?M.initialSlide+1:M.initialSlide-1),t&&(k=window.setTimeout(function(){s()},M.advanceWait)))})}}(jQuery);